<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="regular_maintenance">Regular Maintenance</title>
  <link rel="stylesheet" href="Regular.css">
  <link rel="stylesheet" href="/Language/Language.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: var(--font-family);
    }

    h1,
    h2,
    h3,
    p,
    span,
    button,
    select,
    input,
    label {
      font-family: var(--font-family);
    }
  </style>
</head>

<body>
  <!-- Navigation Buttons -->
  <div class="nav-buttons">
    <div class="back-button">
      <a href="#" onclick="goBack()">
        <img src="/icon/Back.png" alt="Back Icon" class="back-icon"> <span data-i18n="back">Back</span>
      </a>
    </div>
    <div class="Home-button">
      <a href="../../Home/Home.html">
        <img src="/icon/Home.png" alt="Home Icon" class="Home-icon"> <span data-i18n="home">Home</span>
      </a>
    </div>
  </div>

  <!-- Header Section -->
  <header>
    <div class="ms-logo">
      <img src="/icon/MS Logo.png" alt="MS Logo">
    </div>
    <div class="hospital-logo">
      <img src="/icon/hospital-logo.png" alt="King Abdulaziz Hospital">
    </div>
  </header>

  <!-- Form Container -->
  <div class="form-container">
    <h1 class="title" data-i18n="regular_maintenance">Regular Maintenance</h1>
    <p class="subtitle" data-i18n="record_maintenance">Record device maintenance information</p>

    <form action="#" method="POST">
      <label for="maintenance-date">
        <span data-i18n="last_maintenance_date">Last Maintenance Date</span>
        <span class="required-star">*</span>
      </label> <input type="date" id="maintenance-date" name="maintenance-date" required>

      <label>
        <span data-i18n="maintenance_frequency">Maintenance Frequency</span>
        <span class="required-star">*</span>
      </label>
      <div class="radio-group">
        <label><input type="radio" name="frequency" value="3months" required> <span data-i18n="every_3_months">Every 3
            months</span></label>
        <label><input type="radio" name="frequency" value="4months" required> <span data-i18n="every_4_months">Every 4
            months</span></label>
      </div>

      <label for="device-type">
        <span data-i18n="device_type">Device Type</span>
        <span class="required-star">*</span>
      </label>
      <div class="custom-dropdown-wrapperr" id="device-type-dropdown-wrapper">
        <div class="custom-dropdown">
          <div class="dropdown-toggle" onclick="toggleDropdown(this)">
            <span id="selected-device-type" data-i18n="select_device_type">Select device type</span>
            <span>▼</span>
          </div>
          <div class="dropdown-content">
            <input type="text" data-i18n-placeholder="search_device_type" placeholder="Search device type..."
              class="dropdown-search" oninput="filterDropdown(this, 'device-type-options')" />
            <div class="dropdown-options" id="device-type-options">
              <!-- سيتم تعبئة الخيارات عبر JavaScript -->
            </div>
          </div>
        </div>
      </div>
      <input type="hidden" id="device-type" name="device-type" required />

      <label for="section">
        <span data-i18n="section">Section</span>
        <span class="required-star">*</span>
      </label>
      <div class="custom-dropdown-wrapperr" id="section-dropdown-wrapper">
        <div class="custom-dropdown">
          <div class="dropdown-toggle" onclick="toggleDropdown(this)">
            <span id="selected-section" data-i18n="select_section">Select section</span>
            <span>▼</span>
          </div>
          <div class="dropdown-content">
            <input type="text" data-i18n-placeholder="search_section" placeholder="Search section..."
              class="dropdown-search" oninput="filterDropdown(this, 'section-options')" />
            <div class="dropdown-options" id="section-options">
              <!-- يتم تعبئتها عبر JavaScript -->
            </div>
          </div>
        </div>
      </div>
      <input type="hidden" id="section" name="section" required />

      <label for="device-spec">
        <span data-i18n="device_specifications">Device Specifications</span>
        <span class="required-star">*</span>
      </label>
      <div class="custom-dropdown-wrapperr">
        <div class="custom-dropdown">
          <div class="dropdown-toggle" onclick="toggleDropdown(this)">
            <span id="selected-device-spec" data-i18n="select_specification">Select specification</span>
            <span>▼</span>
          </div>
          <div class="dropdown-content">
            <input type="text" class="dropdown-search" data-i18n-placeholder="search_specification"
              placeholder="Search specification..." oninput="filterDropdown(this, 'device-spec-options')">
            <div class="dropdown-options" id="device-spec-options"></div>
          </div>
        </div>
      </div>
      <input type="hidden" id="device-spec" name="device-spec" required />

      <label for="problem-status">
        <span data-i18n="problem_status">Problem Status</span>
        <span class="required-star">*</span>
      </label>
      <div class="custom-dropdown-wrapperr" id="problem-status-wrapper">
        <div class="custom-dropdown">
          <div class="dropdown-toggle" onclick="toggleDropdown(this)">
            <span id="selected-problem-status" data-i18n="select_problem_status">Select Problem Status</span>
            <span>▼</span>
          </div>
          <div class="dropdown-content">
            <input type="text" class="dropdown-search" data-i18n-placeholder="search_problem_status"
              placeholder="Search problem status..." oninput="filterDropdown(this, 'problem-status-options')">
            <div class="dropdown-options" id="problem-status-options"></div>
          </div>
        </div>
      </div>
      <input type="hidden" id="problem-status" name="problem_status" required />

      <label for="technical-status">
        <span data-i18n="technical_name">Technical Name</span>
        <span class="required-star">*</span>
      </label>
      <div class="custom-dropdown-wrapperr" id="technical-status-wrapper">
        <div class="custom-dropdown">
          <div class="dropdown-toggle" onclick="toggleDropdown(this)">
            <span id="selected-technical-status" data-i18n="select_technical">Select Technical Engineer</span>
            <span>▼</span>
          </div>
          <div class="dropdown-content">
            <input type="text" class="dropdown-search" data-i18n-placeholder="search_technical"
              placeholder="Search technical..." oninput="filterDropdown(this, 'technical-status-options')">
            <div class="dropdown-options" id="technical-status-options"></div>
          </div>
        </div>
      </div>
      <input type="hidden" id="technical-status" name="technical_engineer_id" required />

      <label for="notes" data-i18n="notes">Notes</label>
      <textarea id="notes" name="notes" data-i18n-placeholder="add_notes"
        placeholder="Add any additional notes here..."></textarea>

      <button type="submit" data-i18n="submit_maintenance">Submit Maintenance Log</button>
    </form>
  </div>

  <!-- ✅ Popup for Custom Device Specification -->
  <div id="popup-modal" class="popup-overlay" style="display: none;">
    <div class="popup-content wide-popup">
      <h3 id="popup-title" data-i18n="enter_device_specifications">Enter Device Specifications</h3>
      <form id="pc-spec-form">
        <div id="popup-fields"></div>
        <div class="popup-buttons">
          <button type="button" class="save-btn" onclick="savePCSpec()"  data-i18n="save">Save</button>
          <button type="button" class="cancel-btn" onclick="closePopup()" data-i18n="cancel">Cancel</button>
        </div>
      </form>
    </div>
  </div>
  <!-- ✅ Popup for Adding Generic Options -->
  <div id="generic-popup" class="popup-overlay" style="display: none;">
    <div class="popup-contentt">
      <h3 id="generic-popup-title" data-i18n="add_new">Add New</h3>
      <label for="generic-popup-input" id="generic-label" data-i18n="new_value">New Value</label>
      <input type="text" id="generic-popup-input" data-i18n-placeholder="enter_new_value"
        placeholder="Enter new value..." required />
      <input type="hidden" id="generic-popup-target-id" />
      <div class="popup-buttons">
        <button type="button" class="save-btn" onclick="saveGenericOption()"  data-i18n="save">Save</button>
        <button type="button" class="cancel-btn" onclick="closeGenericPopup()" data-i18n="cancel">Cancel</button>
      </div>
    </div>
  </div>

  <script src="Maintenance.js"></script>
  <script src="Regular.js"></script>
  <script src="/Language/Language.js"></script>
</body>

</html>