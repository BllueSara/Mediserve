<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="report_details">Report Details</title>
    <link rel="stylesheet" href="reports.css"> 
    <link rel="stylesheet" href="report-details.css"> <!-- Link to reports.css for common styles -->
    <link rel="stylesheet" href="/Language/Language.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal&display=swap" rel="stylesheet">
    <style>
      /* إخفاء المحتوى حتى يتم تحميل اللغة */
      .content-hidden {
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease-in-out;
      }
      
      .content-visible {
        opacity: 1;
        visibility: visible;
      }
    </style>
       
</head>
<body>
    <!-- Header -->
    <div class="nav-buttons content-hidden">
        <div class="back-button">
             <a href="reports.html">
                <img src="/icon/Back.png" alt="Back Icon" class="back-icon"> <span data-i18n="back">Back</span>
             </a>
        </div>
        <div class="Home-button">
            <a href="../../Home/Home.html">
                <img src="/icon/Home.png" alt="Home Icon" class="Home-icon"> <span data-i18n="home">Home</span>
            </a>
        </div>
        <!-- Language Switch Button -->
    </div>

    <!-- Header (Logos) - Using reports.css styles -->
     <header class="content-hidden">
        <div class="ms-logo">
            <img src="/icon/MS Logo.png" alt="MS Logo">
        </div>
        <div class="hospital-logo">
            <img src="/icon/hospital-logo.png" alt="King Abdulaziz Hospital">
        </div>
    </header>

    <main class="details-container content-hidden">
        <div class="report-header">
            <h1 data-i18n="report_details_for">
                 <span id="ipAddress"></span></h1>
            <div class="action-buttons">
                <button id="downloadReportBtn" class="download-btn" data-i18n="download_pdf">
                    <img src="/icon/download.png" alt="Download" class="download-icon">
                    <span data-i18n="download_excel">Download Excel</span>
                </button>
            </div>
        </div>
        
        <div class="table-container">
            <table id="reportDetailsTable">
                <thead id="reportDetailsHead">
                    <!-- Will be filled dynamically by JS -->
                </thead>
                <tbody id="reportDetailsBody">
                    <!-- Data rows inserted here -->
                </tbody>
            </table>
        </div>
        
        <div class="no-data-message" id="noDataMessage" style="display: none;">
            <p data-i18n="no_data_found">No data found for this report.</p>
        </div>
    </main>

    <script src="/Language/Language.js"></script>
    <script>
      // إظهار المحتوى بعد تحميل اللغة
      document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
          const elements = document.querySelectorAll('.content-hidden');
          elements.forEach(element => {
            element.classList.remove('content-hidden');
            element.classList.add('content-visible');
          });
        }, 100);
      });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script type="module" src="report-details.js"></script> <!-- We will create this file next -->

    <!-- ===== الفوتر ===== -->
    <footer class="main-footer">
        <div class="footer-content">
            <div class="copyright" data-translate="all-rights-reserved">
                جميع الحقوق محفوظة 2025 ©
            </div>
            <div class="developers" data-translate="developed-by">
                إعداد المهندس هاني مياجان | تنفيذ المهندسة سارا اللهيبي
            </div>
        </div>
    </footer>

</body>
</html> 